<!--
#################################################################
factory/index.html
#################################################################
This template represents the most complete template that will be
rendered to the user as a whole page.  Other content will be loaded
into sections using AJAX calls utilizing the Fetch API
-->

{% extends "factory/nav.html" %}
{% load static %}

{% block main %}
<div class="container" id="main-space">
    <div class="row js-load-widgets" data-url="{% url 'factory:widget-list' %}">

    </div>
    <div class="row js-load-runs" data-url="{% url 'factory:widgetrun-list' %}">

    </div>
</div>
{% endblock %}

{% block more_scripts %}
<script src="{% static 'js/index.js' %}" charset="utf-8"></script>
<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function(){
        let resp = loadWidgets();
        resp.then(
            indexInit()
        );
    });
</script>
{% endblock %}
